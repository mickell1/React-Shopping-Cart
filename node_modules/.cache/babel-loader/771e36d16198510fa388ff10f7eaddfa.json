{"ast":null,"code":"import _classCallCheck from \"/Users/mickellcrawford/Desktop/Tech Tasks/ui-products-test/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/mickellcrawford/Desktop/Tech Tasks/ui-products-test/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/mickellcrawford/Desktop/Tech Tasks/ui-products-test/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/mickellcrawford/Desktop/Tech Tasks/ui-products-test/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Users/mickellcrawford/Desktop/Tech Tasks/ui-products-test/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/mickellcrawford/Desktop/Tech Tasks/ui-products-test/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/mickellcrawford/Desktop/Tech Tasks/ui-products-test/src/App.jsx\";\nimport React, { Component } from \"react\";\nimport PropTypes from 'prop-types';\nimport Header from \"./components/Header/Header\";\nimport Products from './components/Products/Products';\nimport Footer from './components/Footer/Footer';\nimport QuickView from \"./components/QuickView/QuickView\";\nimport productsData from './data/products';\nimport \"./App.scss\";\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this));\n    _this.state = {\n      products: [],\n      basket: [],\n      totalItems: 0,\n      totalAmount: 0,\n      term: \"\",\n      category: \"\",\n      basketBounce: false,\n      quantity: 1,\n      quickViewProduct: {},\n      modalActive: false\n    };\n    _this.handleSearch = _this.handleSearch.bind(_assertThisInitialized(_this));\n    _this.handleMobileSearch = _this.handleMobileSearch.bind(_assertThisInitialized(_this));\n    _this.handleCategory = _this.handleCategory.bind(_assertThisInitialized(_this));\n    _this.handleBasket = _this.handleBasket.bind(_assertThisInitialized(_this));\n    _this.sumTotalItems = _this.sumTotalItems.bind(_assertThisInitialized(_this));\n    _this.sumTotalAmount = _this.sumTotalAmount.bind(_assertThisInitialized(_this));\n    _this.checkProduct = _this.checkProduct.bind(_assertThisInitialized(_this));\n    _this.updateQuantity = _this.updateQuantity.bind(_assertThisInitialized(_this));\n    _this.handleRemoveProduct = _this.handleRemoveProduct.bind(_assertThisInitialized(_this));\n    _this.openModal = _this.openModal.bind(_assertThisInitialized(_this));\n    _this.closeModal = _this.closeModal.bind(_assertThisInitialized(_this));\n    return _this;\n  } // Fetch Initial Set of Products from external API\n\n\n  _createClass(App, [{\n    key: \"getProducts\",\n    value: function getProducts() {\n      console.log(productsData);\n      this.setState({\n        products: productsData\n      });\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.getProducts();\n    } // Search by Keyword\n\n  }, {\n    key: \"handleSearch\",\n    value: function handleSearch(event) {\n      this.setState({\n        term: event.target.value\n      });\n    } // Mobile Search Reset\n\n  }, {\n    key: \"handleMobileSearch\",\n    value: function handleMobileSearch() {\n      this.setState({\n        term: \"\"\n      });\n    } // Filter by Category\n\n  }, {\n    key: \"handleCategory\",\n    value: function handleCategory(event) {\n      this.setState({\n        category: event.target.value\n      });\n      console.log(this.state.category);\n    } // Add to Basket\n\n  }, {\n    key: \"handleBasket\",\n    value: function handleBasket(selectedProducts) {\n      var basketItem = this.state.basket;\n      var productID = selectedProducts.productId;\n      var productQty = selectedProducts.quantity;\n\n      if (this.checkProduct(productID)) {\n        console.log(\"hi\");\n        var index = basketItem.findIndex(function (x) {\n          return x.productId === productID;\n        });\n        basketItem[index].quantity = Number(basketItem[index].quantity) + Number(productQty);\n        this.setState({\n          basket: basketItem\n        });\n      } else {\n        basketItem.push(selectedProducts);\n      }\n\n      this.setState({\n        basket: basketItem,\n        basketBounce: true\n      });\n      setTimeout(function () {\n        this.setState({\n          basketBounce: false,\n          quantity: 1\n        });\n        console.log(this.state.quantity);\n        console.log(this.state.basket);\n      }.bind(this), 1000);\n      this.sumTotalItems(this.state.basket);\n      this.sumTotalAmount(this.state.basket);\n    }\n  }, {\n    key: \"handleRemoveProduct\",\n    value: function handleRemoveProduct(id, e) {\n      var basket = this.state.basket;\n      var index = basket.findIndex(function (x) {\n        return x.productId === id;\n      });\n      basket.splice(index, 1);\n      this.setState({\n        basket: basket\n      });\n      this.sumTotalItems(this.state.basket);\n      this.sumTotalAmount(this.state.basket);\n      e.preventDefault();\n    }\n  }, {\n    key: \"checkProduct\",\n    value: function checkProduct(productID) {\n      var basket = this.state.basket;\n      return basket.some(function (item) {\n        return item.productId === productID;\n      });\n    }\n  }, {\n    key: \"sumTotalItems\",\n    value: function sumTotalItems() {\n      var total = 0;\n      var basket = this.state.basket;\n      total = basket.length;\n      this.setState({\n        totalItems: total\n      });\n    }\n  }, {\n    key: \"sumTotalAmount\",\n    value: function sumTotalAmount() {\n      var total = 0;\n      var basket = this.state.basket;\n\n      for (var i = 0; i < basket.length; i++) {\n        total += +(basket[i].price * basket[i].quantity).toFixed(2);\n      }\n\n      this.setState({\n        totalAmount: total.toFixed(2)\n      });\n    } //Reset Quantity\n\n  }, {\n    key: \"updateQuantity\",\n    value: function updateQuantity(qty) {\n      console.log(\"quantity added...\");\n      this.setState({\n        quantity: qty\n      });\n    } // Open Modal\n\n  }, {\n    key: \"openModal\",\n    value: function openModal(product) {\n      console.log('HERE');\n      console.log(product);\n      this.setState({\n        quickViewProduct: product,\n        modalActive: true\n      });\n    } // Close Modal\n\n  }, {\n    key: \"closeModal\",\n    value: function closeModal() {\n      this.setState({\n        modalActive: false\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }, React.createElement(Header, {\n        basketBounce: this.state.basketBounce,\n        total: this.state.totalAmount,\n        totalItems: this.state.totalItems,\n        basketItems: this.state.basket,\n        removeProduct: this.handleRemoveProduct,\n        handleSearch: this.handleSearch,\n        handleMobileSearch: this.handleMobileSearch,\n        handleCategory: this.handleCategory,\n        categoryTerm: this.state.category,\n        updateQuantity: this.updateQuantity,\n        productQuantity: this.state.moq,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }), React.createElement(Products, {\n        productsList: this.state.products,\n        searchTerm: this.state.term,\n        addToBasket: this.handleBasket,\n        productQuantity: this.state.quantity,\n        updateQuantity: this.updateQuantity,\n        openModal: this.openModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }), React.createElement(Footer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }), React.createElement(QuickView, {\n        product: this.state.quickViewProduct,\n        openModal: this.state.modalActive,\n        closeModal: this.closeModal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nApp.propTypes = {\n  products: PropTypes.arrayOf(PropTypes.object)\n};\nexport default App;","map":{"version":3,"sources":["/Users/mickellcrawford/Desktop/Tech Tasks/ui-products-test/src/App.jsx"],"names":["React","Component","PropTypes","Header","Products","Footer","QuickView","productsData","App","state","products","basket","totalItems","totalAmount","term","category","basketBounce","quantity","quickViewProduct","modalActive","handleSearch","bind","handleMobileSearch","handleCategory","handleBasket","sumTotalItems","sumTotalAmount","checkProduct","updateQuantity","handleRemoveProduct","openModal","closeModal","console","log","setState","getProducts","event","target","value","selectedProducts","basketItem","productID","productId","productQty","index","findIndex","x","Number","push","setTimeout","id","e","splice","preventDefault","some","item","total","length","i","price","toFixed","qty","product","moq","propTypes","arrayOf","object"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from 'prop-types';\nimport Header from \"./components/Header/Header\";\nimport Products from './components/Products/Products';\nimport Footer from './components/Footer/Footer';\nimport QuickView from \"./components/QuickView/QuickView\";\nimport productsData from './data/products';\nimport \"./App.scss\";\n\nclass App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      products: [],\n      basket: [],\n      totalItems: 0,\n      totalAmount: 0,\n      term: \"\",\n      category: \"\",\n      basketBounce: false,\n      quantity: 1,\n      quickViewProduct: {},\n      modalActive: false\n    };\n    this.handleSearch = this.handleSearch.bind(this);\n    this.handleMobileSearch = this.handleMobileSearch.bind(this);\n    this.handleCategory = this.handleCategory.bind(this);\n    this.handleBasket = this.handleBasket.bind(this);\n    this.sumTotalItems = this.sumTotalItems.bind(this);\n    this.sumTotalAmount = this.sumTotalAmount.bind(this);\n    this.checkProduct = this.checkProduct.bind(this);\n    this.updateQuantity = this.updateQuantity.bind(this);\n    this.handleRemoveProduct = this.handleRemoveProduct.bind(this);\n    this.openModal = this.openModal.bind(this);\n    this.closeModal = this.closeModal.bind(this);\n  }\n  // Fetch Initial Set of Products from external API\n  getProducts() {\n    console.log(productsData)\n    this.setState({\n      products: productsData\n    });\n  }\n  componentWillMount() {\n    this.getProducts();\n  }\n\n  // Search by Keyword\n  handleSearch(event) {\n    this.setState({ term: event.target.value });\n  }\n  // Mobile Search Reset\n  handleMobileSearch() {\n    this.setState({ term: \"\" });\n  }\n  // Filter by Category\n  handleCategory(event) {\n    this.setState({ category: event.target.value });\n    console.log(this.state.category);\n  }\n  // Add to Basket\n  handleBasket(selectedProducts) {\n    let basketItem = this.state.basket;\n    let productID = selectedProducts.productId;\n    let productQty = selectedProducts.quantity;\n    if (this.checkProduct(productID)) {\n      console.log(\"hi\");\n      let index = basketItem.findIndex(x => x.productId === productID);\n      basketItem[index].quantity =\n        Number(basketItem[index].quantity) + Number(productQty);\n      this.setState({\n        basket: basketItem\n      });\n    } else {\n      basketItem.push(selectedProducts);\n    }\n    this.setState({\n      basket: basketItem,\n      basketBounce: true\n    });\n    setTimeout(\n      function() {\n        this.setState({\n          basketBounce: false,\n          quantity: 1\n        });\n        console.log(this.state.quantity);\n        console.log(this.state.basket);\n      }.bind(this),\n      1000\n    );\n    this.sumTotalItems(this.state.basket);\n    this.sumTotalAmount(this.state.basket);\n  }\n  handleRemoveProduct(id, e) {\n    let basket = this.state.basket;\n    let index = basket.findIndex(x => x.productId === id);\n    basket.splice(index, 1);\n    this.setState({\n      basket: basket\n    });\n    this.sumTotalItems(this.state.basket);\n    this.sumTotalAmount(this.state.basket);\n    e.preventDefault();\n  }\n  checkProduct(productID) {\n    let basket = this.state.basket;\n    return basket.some(function(item) {\n      return item.productId === productID;\n    });\n  }\n  sumTotalItems() {\n    let total = 0;\n    let basket = this.state.basket;\n    total = basket.length;\n    this.setState({\n      totalItems: total\n    });\n  }\n  sumTotalAmount() {\n    let total = 0;\n    let basket = this.state.basket;\n    for (var i = 0; i < basket.length; i++) {\n      total += +(basket[i].price * basket[i].quantity).toFixed(2);\n    }\n    this.setState({\n      totalAmount: total.toFixed(2)\n    });\n  }\n\n  //Reset Quantity\n  updateQuantity(qty) {\n    console.log(\"quantity added...\");\n    this.setState({\n      quantity: qty\n    });\n  }\n  // Open Modal\n  openModal(product) {\n    console.log('HERE')\n    console.log(product)\n    this.setState({\n      quickViewProduct: product,\n      modalActive: true\n    });\n  }\n  // Close Modal\n  closeModal() {\n    this.setState({\n      modalActive: false\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"container\">\n        <Header\n          basketBounce={this.state.basketBounce}\n          total={this.state.totalAmount}\n          totalItems={this.state.totalItems}\n          basketItems={this.state.basket}\n          removeProduct={this.handleRemoveProduct}\n          handleSearch={this.handleSearch}\n          handleMobileSearch={this.handleMobileSearch}\n          handleCategory={this.handleCategory}\n          categoryTerm={this.state.category}\n          updateQuantity={this.updateQuantity}\n          productQuantity={this.state.moq}\n        />\n        <Products\n          productsList={this.state.products}\n          searchTerm={this.state.term}\n          addToBasket={this.handleBasket}\n          productQuantity={this.state.quantity}\n          updateQuantity={this.updateQuantity}\n          openModal={this.openModal}\n        />\n        <Footer />\n        <QuickView\n          product={this.state.quickViewProduct}\n          openModal={this.state.modalActive}\n          closeModal={this.closeModal}\n        />\n      </div>\n    );\n  }\n}\n\nApp.propTypes = {\n  products: PropTypes.arrayOf(PropTypes.object),\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}